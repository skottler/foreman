<%= form_for @domain do |f| %>
  <%= base_errors_for @domain %>
  <ul class="nav nav-tabs" data-tabs="tabs">
    <li class="active"><a href="#primary" data-toggle="tab">Primary</a></li>
    <li><a href="#params" data-toggle="tab">Parameters</a></li>
    <% if show_location_tab? %>
      <li><a href="#locations">Locations</a></li>
    <% end %>
    <% if show_tenant_tab? %>
      <li><a href="#tenants">Tenants</a></li>
    <% end %>
  </ul>

  <div class="tab-content">

    <div class="tab-pane active" id="primary">
      <%= text_f   f, :name, :help_inline => "The full DNS Domain name" %>
      <%= text_f   f, :fullname, :help_inline => "Full name describing the domain" %>
      <%= select_f f, :dns_id, Feature.find_by_name("DNS").smart_proxies, :id, :name,
        :label => "DNS Proxy", :include_blank => "None", :help_inline => "DNS Proxy to use within this domain"
      %>
    </div>

    <div class="tab-pane" id="params">
      <%= render "common_parameters/parameters", { :f => f, :type => :domain_parameters } %>
    </div>

    <% if show_location_tab? %>
      <%= multiple_checkboxes f, :locations, @domain, Location %>
    <% end %>

    <% if show_tenant_tab? %>
      <div class="tab-pane" id="locations">
        <%= multiple_checkboxes f, :tenants, @domain, Tenant %>
      </div>
    <% end %>

  </div>

  <%= submit_or_cancel f %>
<% end %>
